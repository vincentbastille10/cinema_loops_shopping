<!doctype html>
<html lang="{{ 'fr' if lang == 'fr' else 'en' }}">
<head>
  <meta charset="utf-8" />

  <!-- Google Search Console -->
  <meta name="google-site-verification" content="2VoCddHV1wAmKbGLHfbcdupQnEvjPxUHTNZKfdghHxI" />

  <title>Spectra Film Loops ‚Äì Horror & Cinematic WAV Loops (Royalty-Free)</title>

  <meta name="description"
        content="Spectra Film Loops : boucles audio cin√©matiques et sombres pour films d‚Äôhorreur, cin√©ma, danse et installations. Pr√©-√©coute MP3 128 kbps (15s), versions compl√®tes en WAV haute qualit√©, 1‚Ç¨ la loop, paiement s√©curis√© Stripe, t√©l√©chargement instantan√©." />

  <!-- Mots-cl√©s pour moteurs de recherche -->
  <meta name="keywords"
        content="horror loops, cinematic loops, film audio, WAV loops, royalty-free loops, sound design, dark atmospheres, film scoring loops, Spectra Media, Vincent Bastille" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://cinema-loops-shopping.onrender.com/" />

  <!-- Open Graph / Social preview -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Spectra Film Loops ‚Äì Horror & Cinematic WAV Loops" />
  <meta property="og:description"
        content="Cinematic horror loops, dark atmospheres and WAV textures for films, trailers, dance and installations. MP3 previews, full WAV downloads, royalty-free, instant delivery via Stripe." />
  <meta property="og:url" content="https://cinema-loops-shopping.onrender.com/" />
  <meta property="og:site_name" content="Spectra Film Loops" />
  <!-- Si tu ajoutes un visuel d√©di√©, d√©commente et adapte :
  <meta property="og:image" content="https://cinema-loops-shopping.onrender.com/static/cover_loops.jpg" />
  -->

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Spectra Film Loops ‚Äì Horror & Cinematic WAV Loops" />
  <meta name="twitter:description"
        content="Cinematic horror loops & atmospheres in WAV format. Royalty-free, instant download after Stripe payment." />
  <!-- <meta name="twitter:image" content="https://cinema-loops-shopping.onrender.com/static/cover_loops.jpg" /> -->

  <!-- JSON-LD : boutique de loops audio -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Store",
    "name": "Spectra Film Loops",
    "url": "https://cinema-loops-shopping.onrender.com/",
    "image": "https://cinema-loops-shopping.onrender.com/static/fond.jpeg",
    "description": "Librairie de boucles audio cin√©matiques et sombres pour films d‚Äôhorreur, cin√©ma, trailers, danse contemporaine et installations. Boucles en WAV haute qualit√©, royalty-free, paiement Stripe, t√©l√©chargement instantan√© par email.",
    "makesOffer": {
      "@type": "Offer",
      "name": "Horror & Cinematic WAV Loops",
      "priceCurrency": "EUR",
      "price": "1.00",
      "availability": "https://schema.org/InStock"
    },
    "brand": {
      "@type": "Brand",
      "name": "Spectra Media"
    }
  }
  </script>

  <!-- JSON-LD : FAQ Licence & Utilisation -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Puis-je utiliser ces boucles dans un film, une publicit√© ou un jeu vid√©o commercial ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Oui. Les boucles Spectra Film Loops sont fournies en licence royalty-free pour vos films, publicit√©s, jeux, spectacles ou contenus professionnels, sans frais suppl√©mentaires par projet."
        }
      },
      {
        "@type": "Question",
        "name": "Puis-je utiliser ces loops sur YouTube, Twitch ou des plateformes mon√©tis√©es ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Oui. Vous pouvez utiliser les boucles dans vos vid√©os YouTube, Twitch ou autres plateformes, y compris sur des cha√Ænes mon√©tis√©es, tant que vous ne vendez pas les loops seules en tant que pack audio."
        }
      },
      {
        "@type": "Question",
        "name": "Dois-je cr√©diter Spectra Media ou Vincent Bastille ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Le cr√©dit n‚Äôest pas obligatoire mais fortement appr√©ci√©. Exemple de cr√©dit : Music loops by Spectra Media / Vincent Bastille."
        }
      },
      {
        "@type": "Question",
        "name": "Les versions compl√®tes sont-elles livr√©es en WAV haute qualit√© ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Oui. Les extraits sur le site sont en MP3 128 kbps (15 secondes) mais les versions compl√®tes sont livr√©es en WAV haute qualit√©, pr√™tes pour le mixage et la diffusion cin√©ma."
        }
      },
      {
        "@type": "Question",
        "name": "Les loops sont-elles exclusives √† mon projet ?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Non. Les boucles sont non exclusives : vous achetez une licence d‚Äôutilisation royalty-free, mais d‚Äôautres cr√©ateurs peuvent acheter les m√™mes loops pour leurs propres projets."
        }
      }
    ]
  }
  </script>

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <script src="https://js.stripe.com/v3/"></script>
  <script src="{{ url_for('static', filename='lang.js') }}"></script>
</head>
<body>
  <header>
    <div class="header-inner">
      <div>
        <h1>Spectra Film Loops</h1>
        <!-- H1 SEO cach√©, tr√®s descriptif -->
        <h1 style="position:absolute; left:-9999px; top:-9999px;">
          Boucles audio cin√©matiques et horror WAV royalty-free pour films, danse et installations
        </h1>
        <p class="subtitle" data-i18n="header_sub">
          Boucles audio professionnelles pour films, danse, horreur et installations. WAV haute qualit√©, royalty-free.
        </p>
      </div>

      <div class="header-right">
        <!-- S√©lecteur de langue -->
        <div class="lang-switch">
          <button type="button" class="lang-btn" data-lang="fr">FR</button>
          <button type="button" class="lang-btn" data-lang="en">EN</button>
        </div>

        <!-- Bouton voir panier -->
        <a href="{{ url_for('cart_page') }}" class="btn btn-cart" data-i18n="go_to_cart">
          Voir le panier
        </a>
      </div>
    </div>
  </header>

  <!-- üî• Banni√®re Promo : Tous les tracks pour 79‚Ç¨ TTC -->
  <section 
    style="
      margin: 20px auto;
      max-width: 900px;
      padding: 18px 22px;
      border-radius: 12px;
      background: linear-gradient(135deg, #2a0010, #6b0030 60%, #ff0033);
      color: #fff;
      text-align: center;
      box-shadow: 0 8px 28px rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.15);
    "
  >
    <a href="https://buy.stripe.com/8x2aEP9gm5ongD12iO3ks04"
       style="
          text-decoration: none;
          color: #fff;
          display: block;
          font-size: 1.4rem;
          font-weight: 700;
          letter-spacing: 0.5px;
       ">
        üéß Offre sp√©ciale : <span style="color:#ffccdd;">tous les tracks pour seulement 79‚Ç¨ TTC</span>
        <div style="font-size: 0.9rem; margin-top: 4px; opacity: 0.85;">
           Acc√®s instantan√© ‚Äì quantit√© limit√©e
        </div>
    </a>
  </section>

  <!-- Note sur les d√©mos MP3 vs WAV livr√©es -->
  <div class="demo-note">
    ‚ö†Ô∏è <strong>√Ä noter :</strong> les extraits audio disponibles sur cette page sont des
    <strong>d√©mos MP3 128 kbps</strong> d‚Äôenviron <strong>15 secondes</strong>, destin√©es √† la pr√©-√©coute.
    <br>
    Les versions compl√®tes des boucles ‚Äî d‚Äôune dur√©e comprise entre <strong>30 secondes et 1 minute</strong> ‚Äî
    sont livr√©es en <strong>WAV haute qualit√©</strong> et utilisables en <strong>royalty-free</strong> apr√®s paiement.
  </div>

  <!-- Badges Pro (WAV, Cin√©ma, Royalty-Free, Instant) -->
  <div class="pro-badges">
    <div class="badge">üéß WAV Haute Qualit√©</div>
    <div class="badge">üé¨ Con√ßu pour Cin√©ma & Danse</div>
    <div class="badge">‚úîÔ∏è Royalty-Free</div>
    <div class="badge">‚ö° T√©l√©chargement Instantan√©</div>
  </div>

  <main class="main-container">
    {% if status == "success" %}
      <div class="status status-success" data-i18n="success_msg">
        Paiement r√©ussi ‚Äì vos liens de t√©l√©chargement vous ont √©t√© envoy√©s.
      </div>
    {% elif status == "cancel" %}
      <div class="status status-cancel" data-i18n="cancel_msg">
        Paiement annul√© ‚Äì aucune boucle n'a √©t√© d√©bit√©e.
      </div>
    {% endif %}

    <form id="loops-form" onsubmit="return false;">
      {% for cat in categories %}
        {# id avec tirets pour les ancres SEO #}
        <section id="{{ cat.id.replace('_', '-') }}">
          <h2>{{ cat.title }}</h2>
          {% if cat.description %}
            <p class="section-subtitle">{{ cat.description }}</p>
          {% endif %}

          <div class="loop-list">
            {% for audio in cat.loops %}
              <div class="loop-card">
                <div class="loop-header">
                  <div class="loop-left">
                    <input
                      type="checkbox"
                      class="loop-checkbox"
                      name="loop"
                      value="{{ audio.id }}"
                      id="chk_{{ audio.id }}"
                    >
                    <!-- Nom fid√®le au fichier = audio.file -->
                    <label class="loop-name" for="chk_{{ audio.id }}">
                      {{ audio.file }}
                    </label>
                  </div>
                  <span class="loop-price">{{ audio.price_eur|round(2) }}‚Ç¨</span>
                </div>

                <audio class="loop-player" controls preload="none" loading="lazy">
                  <source src="{{ audio.preview }}" type="audio/mpeg">
                  Votre navigateur ne supporte pas l'audio HTML5.
                </audio>

                <div class="loop-actions">
                  <button
                    type="button"
                    class="btn btn-small btn-add"
                    data-loop-id="{{ audio.id }}"
                    data-i18n="add_to_cart"
                  >
                    Ajouter au panier
                  </button>
                </div>
              </div>
            {% endfor %}
          </div>
        </section>
      {% endfor %}
    </form>

    <div class="go-cart-bottom">
      <a href="{{ url_for('cart_page') }}" class="btn btn-cart" data-i18n="go_to_cart">
        Voir le panier
      </a>
    </div>
  </main>

  <!-- ===============================
       SECTION SEO ‚Äì DESCRIPTION PRO
  ==================================-->
  <section class="seo-description" style="
      max-width: 1100px;
      margin: 3rem auto 2.5rem;
      padding: 1.8rem 2rem;
      background: rgba(10, 5, 25, 0.55);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      backdrop-filter: blur(6px);
      line-height: 1.6;
      font-size: 0.95rem;
      color: #e7e2ff;
      box-shadow: 0 12px 32px rgba(0,0,0,0.45);
  ">
    <h2 style="margin-top:0; font-size:1.4rem; letter-spacing:0.07em; text-transform:uppercase; color:#ffd6e6;">
      About Spectra Film Loops
    </h2>

    <p>
      <strong>Spectra Film Loops</strong> est une librairie professionnelle d√©di√©e aux
      <strong>boucles audio cin√©matiques</strong>, textures sonores, drones et ambiances
      destin√©es aux <strong>films d‚Äôhorreur</strong>, courts-m√©trages, trailers,
      spectacles vivants, danse contemporaine et installations artistiques.
    </p>

    <p>
      Chaque loop est propos√©e en <strong>WAV haute qualit√©</strong> (mix propre, dynamique
      conserv√©e, aucune compression destructive). Les extraits MP3 disponibles sur la page
      sont limit√©s √† <strong>15 secondes en 128 kbps</strong> pour la pr√©-√©coute.
      Les versions compl√®tes durent entre <strong>30 secondes et 1 minute</strong>
      et sont livr√©es imm√©diatement apr√®s paiement via Stripe, avec des droits
      <strong>royalty-free</strong> pour vos projets audiovisuels.
    </p>

    <p>
      Toutes les boucles peuvent √™tre utilis√©es dans vos films, vid√©os YouTube, podcasts,
      performances sc√©niques, jeux ind√©pendants ou projets professionnels, sans frais
      suppl√©mentaires. La collection est pens√©e pour les monteurs, compositeurs, chor√©graphes,
      sound designers et cr√©ateurs ind√©pendants qui cherchent des <strong>horror loops</strong>,
      <strong>cinematic long loops</strong>, textures sombres et nappes atmosph√©riques pr√™tes √† l‚Äôemploi.
    </p>

    <h3 style="margin-top:1.6rem; font-size:1.15rem; color:#ffcce0;">
      English ‚Äì Overview
    </h3>

    <p style="color:#ddd6ff;">
      <strong>Spectra Film Loops</strong> is a curated library of <strong>cinematic audio loops</strong>,
      dark atmospheres and horror textures designed for filmmakers, editors, choreographers,
      video creators, and sound designers.  
      All loops are delivered in <strong>high-quality WAV</strong> (full dynamics preserved) and are
      <strong>royalty-free</strong> for commercial use in films, trailers, YouTube videos,
      indie games and stage performances.
    </p>

    <p style="color:#ddd6ff;">
      MP3 previews on this website are limited to <strong>15 seconds / 128 kbps</strong>.
      Full versions (30‚Äì60s) are delivered instantly after checkout via Stripe,
      with direct download links sent by email.
    </p>

    <p style="margin-top:1rem; opacity:0.9;">
      Spectra Media ¬© ‚Äî Film & Horror Audio Production
    </p>
  </section>

  <!-- ===============================
       FAQ ‚Äì Licence & Utilisation
  ==================================-->
  <section class="faq-section" style="
      max-width: 1100px;
      margin: 0 auto 2.5rem;
      padding: 1.8rem 2rem;
      background: rgba(8, 3, 18, 0.85);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 14px 36px rgba(0,0,0,0.6);
      font-size: 0.95rem;
      line-height: 1.6;
      color: #eae6ff;
  ">
    <h2 style="margin-top:0; font-size:1.3rem; letter-spacing:0.08em; text-transform:uppercase; color:#ffe0ea;">
      FAQ ‚Äì Licence & utilisation
    </h2>

    <details style="margin-top:1rem;">
      <summary style="cursor:pointer; font-weight:600; color:#ffd1df;">
        Puis-je utiliser ces boucles dans un film, une publicit√© ou un jeu vid√©o commercial ?
      </summary>
      <p style="margin-top:0.6rem;">
        Oui. Toutes les boucles Spectra Film Loops sont fournies en licence
        <strong>royalty-free</strong> pour vos projets professionnels :
        films, pubs, th√©√¢tre, danse contemporaine, jeux vid√©o ind√©pendants, installations, etc.
        Aucun frais suppl√©mentaire n‚Äôest demand√© par projet.
      </p>
    </details>

    <details style="margin-top:1rem;">
      <summary style="cursor:pointer; font-weight:600; color:#ffd1df;">
        Puis-je utiliser ces loops sur YouTube, Twitch ou des plateformes mon√©tis√©es ?
      </summary>
      <p style="margin-top:0.6rem;">
        Oui, vous pouvez utiliser les boucles dans vos vid√©os YouTube, Twitch, Vimeo, r√©seaux sociaux,
        y compris sur des cha√Ænes <strong>mon√©tis√©es</strong>. La seule limite : vous ne pouvez pas
        revendre les loops isol√©es en tant que pack audio concurrent.
      </p>
    </details>

    <details style="margin-top:1rem;">
      <summary style="cursor:pointer; font-weight:600; color:#ffd1df;">
        Dois-je cr√©diter Spectra Media / Vincent Bastille ?
      </summary>
      <p style="margin-top:0.6rem;">
        Le cr√©dit n‚Äôest pas obligatoire, mais vivement recommand√©, surtout pour les projets de cin√©ma
        et d‚Äôauteur. Exemple : <em>Music loops by Spectra Media / Vincent Bastille</em>.
        Cela aide les autres cr√©ateurs √† d√©couvrir la librairie.
      </p>
    </details>

    <details style="margin-top:1rem;">
      <summary style="cursor:pointer; font-weight:600; color:#ffd1df;">
        Les versions compl√®tes sont-elles livr√©es en WAV haute qualit√© ?
      </summary>
      <p style="margin-top:0.6rem;">
        Oui. Les extraits propos√©s sur cette page sont des <strong>d√©mos MP3 128 kbps</strong> d‚Äôenviron
        15 secondes. Apr√®s paiement, vous recevez les <strong>versions compl√®tes en WAV</strong> (30 √† 60 secondes),
        pr√™tes pour le mixage, le sound design et la diffusion cin√©ma.
      </p>
    </details>

    <details style="margin-top:1rem;">
      <summary style="cursor:pointer; font-weight:600; color:#ffd1df;">
        Les loops sont-elles exclusives √† mon projet ?
      </summary>
      <p style="margin-top:0.6rem;">
        Non, il ne s‚Äôagit pas de licences exclusives. Vous achetez une licence d‚Äôutilisation
        <strong>non exclusive, royalty-free</strong>. D‚Äôautres cr√©ateurs peuvent utiliser les m√™mes
        boucles dans d‚Äôautres contextes. Pour un travail 100% exclusif, vous pouvez
        contacter directement Spectra Media pour une composition sur mesure.
      </p>
    </details>
  </section>

  <footer>
    <a href="{{ url_for('about_page', lang=lang) }}" class="footer-link">
      About / Licence
    </a>
    ‚Ä¢ Spectra Media ‚Äì Film & Horror Audio Loops
  </footer>

  <script>
    // --- Gestion de la langue (FR/EN) ---
    const S_LANG = window.SPECTRA_LANG || {};
    const DEFAULT_LANG = "{{ 'fr' if lang == 'fr' else 'en' }}";

    function applyLanguage(lang) {
      const dict = S_LANG[lang] || S_LANG["fr"];
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (dict[key]) {
          el.textContent = dict[key];
        }
      });
      // stocker la langue
      try {
        localStorage.setItem("spectra_lang", lang);
      } catch (e) {}
    }

    function initLanguage() {
      let saved = null;
      try {
        saved = localStorage.getItem("spectra_lang");
      } catch (e) {}
      const lang = saved || DEFAULT_LANG;

      applyLanguage(lang);

      document.querySelectorAll(".lang-btn").forEach(btn => {
        btn.classList.toggle("active", btn.getAttribute("data-lang") === lang);
        btn.addEventListener("click", () => {
          const newLang = btn.getAttribute("data-lang");
          applyLanguage(newLang);
          document.querySelectorAll(".lang-btn").forEach(b =>
            b.classList.toggle("active", b.getAttribute("data-lang") === newLang)
          );
        });
      });
    }

    // --- Gestion audio : une seule loop en lecture √† la fois ---
    function initAudioPlayers() {
      const players = Array.from(document.querySelectorAll("audio.loop-player"));
      players.forEach(player => {
        player.addEventListener("play", () => {
          players.forEach(other => {
            if (other !== player) {
              other.pause();
              other.currentTime = 0;
            }
          });
        });
      });
    }

    // --- Panier : stock√© dans localStorage ---
    function getCartIds() {
      try {
        const raw = localStorage.getItem("spectra_cart");
        if (!raw) return [];
        return JSON.parse(raw);
      } catch (e) {
        return [];
      }
    }

    function saveCartIds(ids) {
      try {
        localStorage.setItem("spectra_cart", JSON.stringify(ids));
      } catch (e) {}
    }

    function addToCart(id) {
      const ids = getCartIds();
      if (!ids.includes(id)) {
        ids.push(id);
        saveCartIds(ids);
      }
    }

    function initAddToCartButtons() {
      document.querySelectorAll(".btn-add").forEach(btn => {
        btn.addEventListener("click", () => {
          const id = btn.getAttribute("data-loop-id");
          addToCart(id);
          btn.classList.add("btn-added");
          setTimeout(() => btn.classList.remove("btn-added"), 600);
        });
      });

      // Si l'utilisateur coche/d√©coche, on synchronise aussi
      document.querySelectorAll(".loop-checkbox").forEach(chk => {
        chk.addEventListener("change", () => {
          const id = chk.value;
          if (chk.checked) {
            addToCart(id);
          } else {
            const ids = getCartIds().filter(x => x !== id);
            saveCartIds(ids);
          }
        });
      });

      // Initialiser les checkbox en fonction du localStorage
      const current = getCartIds();
      document.querySelectorAll(".loop-checkbox").forEach(chk => {
        chk.checked = current.includes(chk.value);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      initLanguage();
      initAudioPlayers();
      initAddToCartButtons();
    });
  </script>
</body>
</html>
